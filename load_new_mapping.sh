#!/bin/bash
echo "üì¶ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞..."

# –ú–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö: ID|–ù–∞–∑–≤–∞–Ω–∏–µ_B24|–ö–æ–¥_1–°|–ù–∞–∑–≤–∞–Ω–∏–µ_1–°
declare -a mappings=(
"345|–ú–∞–Ω–∏–∫—é—Ä–Ω—ã–π –Ω–∞–±–æ—Ä CAFE DO BRAZIL L|CAFE-BRAZIL|–ú–∞–Ω–∏–∫—é—Ä–Ω—ã–π –Ω–∞–±–æ—Ä CAFE DO BRAZIL L"
"349|–ú–∞–Ω–∏–∫—é—Ä–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –º—É–∂—á–∏–Ω CAPRI XL|CAPRI-XL|–ú–∞–Ω–∏–∫—é—Ä–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –º—É–∂—á–∏–Ω CAPRI XL"
"537|–ë–ê–î –ñ–ï–õ–ï–ó–û –õ–ò–ü–û–°–û–ú–ê–õ–¨–ù–û–ï –ü–†–ï–ú–ò–£–ú 4 LEMONS|IRON-4LEMONS|–ë–ò–û–õ–û–ì–ò–ß–ï–°–ö–ò –ê–ö–¢–ò–í–ù–ê–Ø –î–û–ë–ê–í–ö–ê –ö –ü–ò–©–ï –ñ–ï–õ–ï–ó–û –õ–ò–ü–û–°–û–ú–ê–õ–¨–ù–û–ï –ü–†–ï–ú–ò–£–ú 4 LEMONS"
"541|–ë–ê–î –û–ú–ï–ì–ê 3 RTG –ü–†–ï–ú–ò–£–ú 4 LEMONS|OMEGA3-4LEMONS|–ë–ò–û–õ–û–ì–ò–ß–ï–°–ö–ò –ê–ö–¢–ò–í–ù–ê–Ø –î–û–ë–ê–í–ö–ê –ö –ü–ò–©–ï –û–ú–ï–ì–ê 3 RTG –ü–†–ï–ú–ò–£–ú4 LEMONS"
"543|–í–æ–¥–æ—Ä–æ–¥–Ω—ã–π —Å–ø—Ä–µ–π ESTEAU|ESTEAU|–í–æ–¥–æ—Ä–æ–¥–Ω—ã–π —Å–ø—Ä–µ–π ESTEAU"
"545|–í–æ–¥–æ—Ä–æ–¥–Ω—ã–π —Å–ø—Ä–µ–π H-MIST Esteau|H-MIST|–í–æ–¥–æ—Ä–æ–¥–Ω—ã–π —Å–ø—Ä–µ–π H-MIST Esteau"
"547|–ú–∞—Å–∫–∞ –¥–ª—è –ø–æ–¥—Ç—è–∂–∫–∏ –æ–≤–∞–ª–∞ –ª–∏—Ü–∞|FACE-MASK|–ú–∞—Å–∫–∞ –¥–ª—è –ø–æ–¥—Ç—è–∂–∫–∏ –æ–≤–∞–ª–∞ –ª–∏—Ü–∞"
"549|–ì—Ä–∞–Ω–∞—Ç-–∫–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ 20–≥—Ä —Ö 15—à—Ç|POMEGRANATE-15|–ì—Ä–∞–Ω–∞—Ç-–∫–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ (20 –≥—Ä —Ö 15 —à—Ç)"
"551|–ì—Ä–µ–π–ø—Ñ—Ä—É—Ç-–∫–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ 20–≥—Ä —Ö 14—à—Ç|GRAPEFRUIT-14|–ì—Ä–µ–π–ø—Ñ—Ä—É—Ç-–∫–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ (20–≥—Ä —Ö 14 —à—Ç)"
"553|–ì—Ä–µ–π–ø—Ñ—Ä—É—Ç-–∫–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ 20–≥—Ä —Ö 30|GRAPEFRUIT-30|–ì—Ä–µ–π–ø—Ñ—Ä—É—Ç-–∫–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ (20–≥—Ä —Ö 30)"
"555|–ö–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ —Å –≥–∏–∞–ª—É—Ä–æ–Ω–æ–≤–æ–π –∫–∏—Å–ª–æ—Ç–æ–π|COLLAGEN-HA|–ö–æ–ª–ª–∞–≥–µ–Ω–æ–≤–æ–µ –∂–µ–ª–µ —Å –≥–∏–∞–ª—É—Ä–æ–Ω–æ–≤–æ–π –∫–∏—Å–ª–æ—Ç–æ–π —Å–æ –≤–∫—É—Å–æ–º –∑–µ–ª–µ–Ω–æ–≥–æ —è–±–ª–æ–∫–∞"
"557|–ö–û–õ–õ–ê–ì–ï–ù–û–í–´–ô –ù–ê–ü–ò–¢–û–ö –ú–û–õ–û–î–û–°–¢–ò COLLAGEN|COLLAGEN-NANO|–ö–û–õ–õ–ê–ì–ï–ù–û–í–´–ô –ù–ê–ü–ò–¢–û–ö –ú–û–õ–û–î–û–°–¢–ò COLLAGEN NANOPEPTIDES10000"
"559|–ù–∞–±–æ—Ä –ì–∏–¥—Ä–æ–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–ª–ª–∞–≥–µ–Ω Dr Young 30—Å—Ç–∏–∫|COLLAGEN-30STIK|–ù–∞–±–æ—Ä: –ì–∏–¥—Ä–æ–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–ª–ª–∞–≥–µ–Ω + –≥—Ä–∞–Ω–∞—Ç–æ–≤—ã–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç Dr. Young 30 —Å—Ç–∏–∫"
"629|–°–∏—Å—Ç–µ–º–∞ BTM-303 CCAE1065|BTM-303|–°–∏—Å—Ç–µ–º–∞ BTM-303 CCAE1065"
"631|–°–∏—Å—Ç–µ–º–∞ BTM-101SCCAE 1084|BTM-101S|–°–∏—Å—Ç–µ–º–∞ BTM-101SCCAE 1084"
"635|–ü–û–†–¢–ê–¢–ò–í–ù–ê–Ø –ë–£–¢–´–õ–ö–ê –î–õ–Ø –ü–ò–¢–¨–ï–í–û–ô –í–û–î–´|BOTTLE-PORT|–ü–û–†–¢–ê–¢–ò–í–ù–ê–Ø –ë–£–¢–´–õ–ö–ê –î–õ–Ø –ü–ò–¢–¨–ï–í–û–ô –í–û–î–´ –í –ö–û–ú–ü–õ–ï–ö–¢–ï"
"637|–ü–≠–¢ —Ç–∞—Ä–∞ 19 –ª–∏—Ç—Ä–æ–≤|PET-19L|–ü–≠–¢ —Ç–∞—Ä–∞ 19 –ª–∏—Ç—Ä–æ–≤"
"639|–©–µ–ª–æ—á–Ω–æ–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫|ALKALINE-TRI|–©–µ–ª–æ—á–Ω–æ–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫"
"641|–°–∏—Å—Ç–µ–º–∞ BTM-105D —Å–ú–∞—Ç–æ–≤—ã–º –∫—Ä–∞–Ω–æ–º|BTM-105D|–°–∏—Å—Ç–µ–º–∞ BTM-105D —Å–ú–∞—Ç–æ–≤—ã–º –∫—Ä–∞–Ω–æ–º CBAG1527"
"643|–ë—É—Ç—ã–ª–∫–∞ –≤–æ–¥–æ—Ä–æ–¥–Ω–∞—è Biontech BTH-101T|BTH-101T-COLOR|–ë—É—Ç—ã–ª–∫–∞ –≤–æ–¥–æ—Ä–æ–¥–Ω–∞—è Biontech BTH-101T CDAK"
)

for mapping in "${mappings[@]}"; do
    IFS='|' read -r id name code name_1c <<< "$mapping"
    
    echo "‚ûï ID $id ‚Üí $code"
    
    curl -s -X POST https://bizdnai.com/morozov/api/mapping/product \
      -H "Content-Type: application/json" \
      -d "{
        \"bitrix24_product_id\": \"$id\",
        \"bitrix24_product_name\": \"$name\",
        \"onec_product_code\": \"$code\",
        \"onec_product_name\": \"$name_1c\"
      }" > /dev/null && echo "   ‚úÖ" || echo "   ‚ùå"
    
    sleep 0.1
done

echo ""
echo "‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${#mappings[@]} —Ç–æ–≤–∞—Ä–æ–≤!"
echo ""
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞:"
curl -s https://bizdnai.com/morozov/api/mapping/products | python3 -c "import json,sys; m=json.load(sys.stdin)['mappings']; print(f'–í—Å–µ–≥–æ –º–∞–ø–ø–∏–Ω–≥–æ–≤: {len(m)}/91')"
